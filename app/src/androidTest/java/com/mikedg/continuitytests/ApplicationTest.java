package com.mikedg.continuitytests;

import android.Manifest;
import android.app.Application;
import android.content.pm.PackageManager;
import android.test.ApplicationTestCase;

import org.junit.Test;

/**
 * <a href="http://d.android.com/tools/testing/testing_android.html">Testing Fundamentals</a>
 */
public class ApplicationTest extends ApplicationTestCase<Application> {
    public ApplicationTest() {
        super(Application.class);
    }

    private static final String KEYSTORE_JKS_CHARS = "308202c3308201aba003020102020445552a89300d06092a864886f70d01010b050030123110300e06035504031307416e64726f6964301e170d3135303831363134303431365a170d3430303830393134303431365a30123110300e06035504031307416e64726f696430820122300d06092a864886f70d01010105000382010f003082010a02820101009b6cc5602cadacdaeda910ac300ddf8b039cd8f09815213ffe9b6b9b06db6f0d561c66eadef8b6235336db0ef51ccfca79ba4793a1288d3ed41856f88f0f6689eb136efe2a7d6282ed4b07f2c7721904a33d82cf79cf927c535bdddf0200f9cbcc15ae1e0308aaf4688d1463b65c9529fa36c29ec8e46d5e39e691d5117777b68148a339e6767f90b73f12b7aecc7dd1b3f5797a9b366194d7b25f2e183df1a041928a1d1e264a3d7a58fa0e10f31f1c860bf5e6a5e3bf7f22bb0a75d13483e13b354190ed65237c7117bacb7d4f17e7e819322d751b763e2721beb5f964d2edf55bbe8eedd547de637d1c4bc3856a897e0280f2d9c7b477b6b58d3662ece39b0203010001a321301f301d0603551d0e04160414b2160bde6f38afee600fb4ecd1cfc9a59fd67fad300d06092a864886f70d01010b05000382010100357df91bc0588607e89fe1c89f59ac161b4153fcacb1d6152b229a6aa666f22da7f9d927b4feb316ae1cf3e2c0eb9eedd58032f871f5455380f98118ec4f4364d35766d0931596ac6e42dc29eee998bfc397dc5968a1b920c820079cdf1177d3cbfa7fd67e4359801123859a08a37a0ac2dbbd846cf10e2863973a7dd8df992343ca6dae9522d31bfd159fa3500d720275321b329bc57a8f6b1fe6ea0a4f3777f718e34431ece2f3cedd740ecc6cd25dc03ef05cb6acc01581ed55ebabf9098cf906d9d66b5eeda1af4889612e81c7d52b6710c795812749d4c1cff2ef6ff46e6d081588661c635a55635bc12155f9a89a137009fc2eb6e31e597fbac18b1eb9";
    public void testConsistentSignature() throws PackageManager.NameNotFoundException {
        assertTrue("Your signature changed. This can break the upgrade path for existing users with this app installed. You should really re-evaluate why this was changed.", TestingUtil.doesSignatureMatch(KEYSTORE_JKS_CHARS));
    }

    @Test
    public void testHasInternetPermission() {
        assertTrue("Someone must have deleted the internet permission. Do you really not need this anymore?", TestingUtil.doesPackageHavePermission(Manifest.permission.INTERNET, BuildConfig.APPLICATION_ID));
    }
}